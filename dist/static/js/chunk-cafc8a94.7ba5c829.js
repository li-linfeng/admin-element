(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cafc8a94"],{"0317":function(e,t,r){"use strict";r("5747")},"163b":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861");function a(e,t,r){var a=t||"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",n=r||"".concat(Date.now(),".xlsx"),o=new Blob([e],{type:a}),i=document.createElement("a"),l=window.URL.createObjectURL(o);i.href=l,i.download=n,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(l)}},"333d":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pagination-container",class:{hidden:e.hidden}},[r("el-pagination",e._b({attrs:{background:e.background,"current-page":e.currentPage,"page-size":e.pageSize,layout:e.layout,"page-sizes":e.pageSizes,total:e.total},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"update:pageSize":function(t){e.pageSize=t},"update:page-size":function(t){e.pageSize=t},"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}},"el-pagination",e.$attrs,!1))],1)},n=[];r("a9e3");Math.easeInOutQuad=function(e,t,r,a){return e/=a/2,e<1?r/2*e*e+t:(e--,-r/2*(e*(e-2)-1)+t)};var o=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function i(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function s(e,t,r){var a=l(),n=e-a,s=20,u=0;t="undefined"===typeof t?500:t;var c=function e(){u+=s;var l=Math.easeInOutQuad(u,a,n,t);i(l),u<t?o(e):r&&"function"===typeof r&&r()};c()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},per_page:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit("update:page",e)}},pageSize:{get:function(){return this.per_page},set:function(e){this.$emit("update:per_page",e)}}},methods:{handleSizeChange:function(e){this.$emit("pagination",{page:this.currentPage,per_page:e}),this.autoScroll&&s(0,800)},handleCurrentChange:function(e){this.$emit("pagination",{page:e,per_page:this.pageSize}),this.autoScroll&&s(0,800)}}},c=u,d=(r("ef8b"),r("2877")),p=Object(d["a"])(c,a,n,!1,null,"29d0d71e",null);t["a"]=p.exports},"35f3":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("QueryCol",{attrs:{status:e.statusOptions,cols:e.cols,filter_col:e.listQuery.filter_col,filter_status:e.listQuery.filter_status,filter_val:e.listQuery.filter_val},on:{handleFilter:e.handleFilter}}),r("el-button",{staticStyle:{margin:"0 0 20px 20px"},attrs:{loading:e.downloadLoading,type:"primary",icon:"el-icon-document"},on:{click:e.handleDownload}},[e._v(" 导出excel ")]),r("el-button",{staticClass:"filter-item",staticStyle:{"margin-left":"10px","margin-bottom":"25px"},attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.showOrder}},[e._v(" 创建订单 ")]),r("el-table",{staticStyle:{width:"100%","max-width":"1600px"},attrs:{data:e.list,border:"",stripe:"",fit:"","highlight-current-row":"","span-method":e.arraySpanMethod}},[r("el-table-column",{attrs:{label:"序号",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-radio",{attrs:{label:a},on:{change:e.handleItemsChange},model:{value:e.selectRow,callback:function(t){e.selectRow=t},expression:"selectRow"}},[e._v(" "+e._s(a.id)+" ")])]}}])}),r("el-table-column",{attrs:{label:"项目编号",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.project_no))])]}}])}),r("el-table-column",{attrs:{label:"客户名称",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.customer_name))])]}}])}),r("el-table-column",{attrs:{label:"创建人",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.user_name))])]}}])}),r("el-table-column",{attrs:{label:"处理人",align:"center",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.handler_name))])]}}])}),r("el-table-column",{attrs:{label:"产品类型",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.category))])]}}])}),r("el-table-column",{attrs:{label:"产品型号",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.product_name))])]}}])}),r("el-table-column",{attrs:{label:"产品单价",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.product_price))])]}}])}),r("el-table-column",{attrs:{label:"产品货期",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.product_date))])]}}])}),r("el-table-column",{attrs:{label:"附件",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return e._l(a.uploads,(function(t){return r("div",{key:t.name},[r("span",[e._v(e._s(t.name))]),r("el-link",{attrs:{underline:!1,icon:"el-icon-download",href:t.url,type:"primary",download:""}},[e._v("下载")])],1)}))}}])}),r("el-table-column",{attrs:{label:"操作",width:"274",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return["published"==a.status?r("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(t){return e.showTmpDialog(a)}}},[e._v(" 处理 ")]):e._e(),"published"==a.status?r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.showReturn(a)}}},[e._v(" 退回 ")]):e._e(),"published"==a.status?r("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(t){return e.finishRequest(a.id)}}},[e._v(" 完成 ")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"状态",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-tag",{attrs:{type:e._f("statusMap")(a.status)}},[e._v(" "+e._s(a.status_cn)+" ")])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.listQuery.page,per_page:e.listQuery.per_page},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:per_page":function(t){return e.$set(e.listQuery,"per_page",t)},pagination:e.getList}}),r("el-dialog",{attrs:{title:"新增",visible:e.preSaleDialogFormVisible},on:{"update:visible":function(t){e.preSaleDialogFormVisible=t}}},[r("el-form",{ref:"dataForm",staticStyle:{width:"1200px",height:"500px","margin-left":"50px"},attrs:{model:e.pre_sale_item,rules:e.tmp_rules,"label-position":"left","label-width":"140px"}},[r("el-form-item",{attrs:{label:"产品类型",prop:"category"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.pre_sale_item.category,callback:function(t){e.$set(e.pre_sale_item,"category",t)},expression:"pre_sale_item.category"}},e._l(e.categories,(function(e){return r("el-option",{key:e.key,attrs:{label:e.key,value:e.val}})})),1)],1),r("el-form-item",{attrs:{label:"产品型号",prop:"product_name"}},[r("el-input",{staticClass:"small_input",model:{value:e.pre_sale_item.product_name,callback:function(t){e.$set(e.pre_sale_item,"product_name",t)},expression:"pre_sale_item.product_name"}})],1),r("el-form-item",{attrs:{label:"产品单价",prop:"product_price"}},[r("el-input",{directives:[{name:"money",rawName:"v-money:2",arg:"2"}],staticClass:"small_input",model:{value:e.pre_sale_item.product_price,callback:function(t){e.$set(e.pre_sale_item,"product_price",t)},expression:"pre_sale_item.product_price"}})],1),r("el-form-item",{attrs:{label:"产品货期",prop:"product_date"}},[r("el-input",{staticClass:"small_input",model:{value:e.pre_sale_item.product_date,callback:function(t){e.$set(e.pre_sale_item,"product_date",t)},expression:"pre_sale_item.product_date"}})],1),r("div",{staticStyle:{width:"400px","margin-bottom":"20px"}},[r("el-form-item",{attrs:{label:"附件"}},[r("el-upload",{staticClass:"upload-demo",attrs:{action:"uploadFile","before-upload":function(t){return e.beforeUpload(t,"pre_sale")},"on-remove":e.handleRemove,"file-list":e.pre_sale_item.fileList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.preSaleDialogFormVisible=!1}}},[e._v(" 取消 ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.addToPreSale}},[e._v(" 确认 ")])],1)],1),r("el-dialog",{attrs:{title:"处理",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-button",{staticStyle:{float:"right","margin-bottom":"5px"},attrs:{size:"mini",type:"primary"},on:{click:e.openAddPreSale}},[e._v(" 新增 ")]),r("el-table",{ref:"preData",staticStyle:{width:"100%","max-width":"1600px"},attrs:{data:e.pre_sale_tmp,border:"",stripe:"",fit:""}},[r("el-table-column",{attrs:{label:"产品类型",align:"center",width:"187"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.category))])]}}])}),r("el-table-column",{attrs:{label:"产品型号",align:"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.product_name))])]}}])}),r("el-table-column",{attrs:{label:"产品货期",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("span",[e._v(e._s(a.product_date))])]}}])}),r("el-table-column",{attrs:{label:"附件",align:"center",width:"260"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return e._l(a.fileList,(function(t){return r("div",{key:t.filename},[r("span",[e._v(e._s(t.filename))]),r("el-link",{attrs:{underline:!1,icon:"el-icon-download",href:t.url,type:"primary",download:""}},[e._v("下载")])],1)}))}}])}),r("el-table-column",{attrs:{label:"操作",align:"center",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.row;return[r("el-button",{attrs:{size:"mini",type:"info"},on:{click:function(t){return e.delPreSaleTmp(a)}}},[e._v(" 删除 ")])]}}])})],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v(" 取消 ")]),r("el-button",{attrs:{type:"primary"},on:{click:e.submitPreSale}},[e._v(" 确认 ")])],1)],1),r("el-dialog",{attrs:{title:"新增订单",visible:e.showOrderDialog},on:{"update:visible":function(t){e.showOrderDialog=t}}},[r("el-form",{ref:"orderForm",staticStyle:{width:"600px","margin-left":"50px"},attrs:{rules:e.order_rules,model:e.order,"label-position":"left","label-width":"80px"}},[r("el-form-item",{attrs:{label:"订单编号",prop:"order_num"}},[r("el-input",{staticClass:"small_input",model:{value:e.order.order_num,callback:function(t){e.$set(e.order,"order_num",t)},expression:"order.order_num"}})],1),e._l(e.order.items,(function(t){return r("el-form-item",{key:t.pre_sale_id,attrs:{label:"序号"}},[r("span",{staticStyle:{padding:"10px"}},[e._v(e._s(t.product_name))]),r("el-input-number",{attrs:{min:1,label:"数量"},model:{value:t.count,callback:function(r){e.$set(t,"count",r)},expression:"item.count"}})],1)})),r("el-form-item",{attrs:{label:"产品总价",prop:"total_pay"}},[r("el-input",{directives:[{name:"money",rawName:"v-money:2",arg:"2"}],model:{value:e.order.total_pay,callback:function(t){e.$set(e.order,"total_pay",t)},expression:"order.total_pay"}})],1),r("el-form-item",{attrs:{label:"总预付款",prop:"total_pay"}},[r("el-input",{directives:[{name:"money",rawName:"v-money:2",arg:"2"}],model:{value:e.order.total_pre_pay,callback:function(t){e.$set(e.order,"total_pre_pay",t)},expression:"order.total_pre_pay"}})],1),r("el-form-item",{attrs:{label:"附件"}},[r("el-upload",{attrs:{action:"uploadFile","before-upload":function(t){return e.beforeUpload(t,"order")},"on-remove":e.handleRemoveFile,"file-list":e.orderList}},[r("el-button",{attrs:{size:"small",type:"primary",disabled:"detail"==e.dialogAction}},[e._v("点击上传")])],1)],1),r("el-form-item",{attrs:{label:"备注",prop:"remark"}},[r("el-input",{model:{value:e.order.remark,callback:function(t){e.$set(e.order,"remark",t)},expression:"order.remark"}})],1)],2),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(){e.showOrderDialog=!1}}},[e._v(" 取消 ")]),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addOrder()}}},[e._v(" 确认 ")])],1)],1),r("el-dialog",{attrs:{title:"退回原因",visible:e.showReturnReasonDialog,width:"30%"},on:{"update:visible":function(t){e.showReturnReasonDialog=t}}},[r("el-form",{ref:"closeForm",staticStyle:{width:"400px","margin-left":"50px"},attrs:{model:e.closeForm,"label-position":"left","label-width":"100px"}},[r("el-form-item",{attrs:{label:"退回原因"}},[r("el-input",{attrs:{type:"textarea",disabled:"add"!=e.showReturnReasonAction,rows:4},model:{value:e.closeForm.return_reason,callback:function(t){e.$set(e.closeForm,"return_reason",t)},expression:"closeForm.return_reason"}})],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.showReturnReasonDialog=!1}}},[e._v(" 取消 ")]),"add"==e.showReturnReasonAction?r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.modifyStatus(e.return_row)}}},[e._v(" 确认 ")]):e._e()],1)],1)],1)},n=[],o=(r("ac1f"),r("5319"),r("d81d"),r("a434"),r("d3b7"),r("a15b"),r("b775"));function i(e){return Object(o["a"])({url:"/api/preSales",method:"get",params:e})}function l(e,t){return Object(o["a"])({url:"/api/sale_requests/".concat(e,"/bind_pre_sales"),method:"post",data:t})}function s(e,t){return Object(o["a"])({url:"/api/sale_requests/".concat(e,"/return"),method:"post",data:t})}function u(e,t){return Object(o["a"])({url:"/api/sale_requests/".concat(e,"/finish"),method:"post",data:t})}function c(e){return Object(o["a"])({url:"/api/preSales/download",method:"get",params:e,responseType:"blob"})}var d=r("91b6"),p=r("f8b7"),m=r("333d"),f=r("622d"),_=r("163b"),h={name:"PreSaleIndex",components:{Pagination:m["a"],QueryCol:f["a"]},directives:{money:{inserted:function(e,t){"INPUT"!==e.tagName.toLocaleUpperCase()&&(e=e.getElementsByTagName("input")[0]),e.value=parseFloat(e.value).toLocaleString("zh",{minimumFractionDigits:2,maximumFractionDigits:2}),e.onblur=function(t){var r=e.value.replace(/,/g,"");if(r){var a=parseFloat(r).toLocaleString("zh",{minimumFractionDigits:2,maximumFractionDigits:2});e.value=a}}}}},filters:{statusMap:function(e){var t={change:"warning",published:"info",return:"danger",finish:"success"};return t[e]}},data:function(){return{selectRow:0,list:null,sale_tm_id:0,pre_sale_tmp:[],pre_sale_t:[],pre_sale_t_count:0,description:"",downloadLoading:!1,total:0,select:null,dialogFormVisible:!1,showApplication:!1,showOrderDialog:!1,showReturnReasonDialog:!1,showReturnReasonAction:"add",preSaleDialogFormVisible:!1,dialogAction:"update",categories:null,statusOptions:[{name:"需求变更",key:"change"},{name:"处理",key:"published"},{name:"退回",key:"return"},{name:"完成",key:"finish"}],cols:[{key:"project_no",name:"项目编号"},{key:"customer_name",name:"客户名称"},{key:"product_type",name:"产品类型"},{key:"user.filter_name",name:"创建人"},{key:"handler.filter_name",name:"处理人"}],orderList:[],listQuery:{page:1,per_page:10,filter_col:"",filter_val:"",filter_status:""},pre_sale_item:{category:"",product_name:"",product_price:0,product_date:"",fileList:[]},closeForm:{return_reason:""},return_row:0,order:{project_no:"",order_num:"",customer_name:"",total_pay:0,total_pre_pay:0,items:[],remark:""},tmp_rules:{category:[{required:!0,message:"请选择产品类型",trigger:"blur"}],product_name:[{required:!0,message:"请输入产品型号",trigger:"blur"}],product_price:[{required:!0,message:"请输入产品单价",trigger:"blur"}],product_date:[{required:!0,message:"请输入产品货期",trigger:"blur"}]},order_rules:{order_num:[{required:!0,message:"请填写名称",trigger:"change"}],items:[{required:!0,message:"请选择一个销售需求",trigger:"blur"}],total_pay:[{required:!0,message:"请输入产品总价",trigger:"blur"}],total_pre_pay:[{required:!0,message:"请输入预付款",trigger:"blur"}]}}},created:function(){this.$route.query.source_id&&(this.listQuery.filter_col="project_no",this.listQuery.filter_val=this.$route.query.source_id),this.getList()},watch:{"order.items":{handler:function(e,t){var r,a=0;for(r=0;r<this.order.items.length;r++){var n;if(this.order.items[r].count)n=this.order.items[r].product_price.replace(/,/g,""),a+=this.order.items[r].count*n}this.order.total_pay=parseFloat(a).toLocaleString("zh",{minimumFractionDigits:2,maximumFractionDigits:2})},deep:!0},pre_sale_t_count:{handler:function(e,t){e!=t&&(this.pre_sale_tmp=this.pre_sale_t)}}},methods:{openAddPreSale:function(){this.preSaleDialogFormVisible=!0,this.pre_sale_item={category:"",product_type:"",product_price:0,product_date:"",fileList:[]}},addToPreSale:function(){this.pre_sale_t.push(this.pre_sale_item),this.pre_sale_t_count=this.pre_sale_t.length,this.preSaleDialogFormVisible=!1},delPreSaleTmp:function(e){var t=this.pre_sale_tmp.map((function(e){return e.index})).indexOf(e.index);this.pre_sale_tmp.splice(t,1)},submitPreSale:function(){var e=this,t={pre_sales:this.pre_sale_tmp};l(this.sale_tm_id,t).then((function(t){e.retrieve()}))},handleDownload:function(){var e=this;this.downloadLoading=!0,c(this.listQuery).then((function(e){var t="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",r="售前处理列表".concat(Date.now(),".xlsx");Object(_["a"])(e,t,r)})).finally((function(){e.downloadLoading=!1}))},getList:function(){var e=this;return i(this.listQuery).then((function(t){e.list=t.data,e.total=t.total,e.tmp={sale_num:""}}))},arraySpanMethod:function(e){var t=e.row,r=(e.column,e.rowIndex,e.columnIndex);if(r<=5||r>=11)return t.is_start?[t.pre_sale_count,1]:[0,0]},modifyStatus:function(e){var t=this,r={return_reason:this.closeForm.return_reason};s(e,r).then((function(e){t.showReturnReasonDialog=!1,t.retrieve()}))},finishRequest:function(e){u(e).then(this.retrieve())},canBeSelect:function(e){return"finish"==e.status},handleItemsChange:function(e){this.order.items=e.pre_sales,this.order.project_no=e.project_no},createOrderNum:function(){var e=this;Object(p["g"])().then((function(t){e.order.order_num=t.data.uuid}))},handleFilter:function(e){this.listQuery.page=1,this.listQuery.filter_col=e.col?e.col:"",this.listQuery.filter_val=e.val?e.val:"",this.listQuery.filter_status=e.sta?e.sta:"",this.getList()},showOrder:function(){var e=this;this.showOrderDialog=!0,this.$nextTick((function(){e.$refs["orderForm"].resetFields(),e.orderList=[]}))},showTmpDialog:function(e){this.dialogFormVisible=!0,this.pre_sale_tmp=e.pre_sales,this.pre_sale_t=e.pre_sales,this.sale_tm_id=e.id,this.categories=e.categories},handleRemove:function(e,t){this.fileList=t},handleRemoveFile:function(e,t){this.orderList=t},beforeUpload:function(e,t){var r=this,a=new FormData;a.append("file",e),a.append("type","file"),a.append("source_type",t),Object(d["a"])(a).then((function(e){"order"==t?r.orderList.push(e.data):r.pre_sale_item.fileList.push(e.data)}))},addOrder:function(){var e=this;this.$refs["orderForm"].validate((function(t){if(t){for(var r=[],a=0;a<e.orderList.length;a++)r.push(e.orderList[a].id);e.order.upload_ids=r.join(),Object(p["b"])(e.order).then((function(t){e.$refs["orderForm"].resetFields(),e.showOrderDialog=!1}))}}))},retrieve:function(){var e=this;this.getList().then((function(t){e.dialogFormVisible=!1,e.$notify({title:"Success",message:"操作成功",type:"success",duration:2e3})}))},showReturn:function(e){var t=this;this.showReturnReasonDialog=!0,this.$nextTick((function(){t.$refs["closeForm"].resetFields(),t.return_row=e.id}))}}},g=h,b=(r("a7f3"),r("2877")),y=Object(b["a"])(g,a,n,!1,null,null,null);t["default"]=y.exports},5747:function(e,t,r){},"622d":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"filter-container",staticStyle:{display:"inline"}},[r("el-select",{staticClass:"filter-item",staticStyle:{width:"130px","margin-right":"10px"},attrs:{placeholder:"搜索字段",clearable:""},model:{value:e.col,callback:function(t){e.col=t},expression:"col"}},e._l(e.cols,(function(e){return r("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1),r("el-input",{staticClass:"filter-item",staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"输入搜索内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.val,callback:function(t){e.val=t},expression:"val"}}),e.status.length>0?r("el-select",{staticClass:"filter-item",staticStyle:{width:"130px"},attrs:{placeholder:"状态",clearable:""},model:{value:e.sta,callback:function(t){e.sta=t},expression:"sta"}},e._l(e.status,(function(e){return r("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})})),1):e._e(),r("el-button",{staticClass:"filter-item",attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v(" 搜索 ")])],1)},n=[],o={name:"QueryCol",props:{filter_col:{type:String},filter_val:{type:String},filter_status:{type:String},cols:{type:Array,default:function(){return[]}},status:{type:Array,default:function(){return[]}}},data:function(){return{col:this.filter_col,val:this.filter_val,sta:this.filter_status}},created:function(){},methods:{search:function(){var e={col:this.col,val:this.val,sta:this.sta};this.$emit("handleFilter",e)}}},i=o,l=(r("0317"),r("2877")),s=Object(l["a"])(i,a,n,!1,null,null,null);t["a"]=s.exports},"914d":function(e,t,r){},"91b6":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var a=r("b775");function n(e){return Object(a["a"])({url:"/api/upload",method:"post",data:e})}},a15b:function(e,t,r){"use strict";var a=r("23e7"),n=r("44ad"),o=r("fc6a"),i=r("a640"),l=[].join,s=n!=Object,u=i("join",",");a({target:"Array",proto:!0,forced:s||!u},{join:function(e){return l.call(o(this),void 0===e?",":e)}})},a434:function(e,t,r){"use strict";var a=r("23e7"),n=r("23cb"),o=r("a691"),i=r("50c4"),l=r("7b0b"),s=r("65f0"),u=r("8418"),c=r("1dde"),d=r("ae40"),p=c("splice"),m=d("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,_=Math.min,h=9007199254740991,g="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!p||!m},{splice:function(e,t){var r,a,c,d,p,m,b=l(this),y=i(b.length),v=n(e,y),w=arguments.length;if(0===w?r=a=0:1===w?(r=0,a=y-v):(r=w-2,a=_(f(o(t),0),y-v)),y+r-a>h)throw TypeError(g);for(c=s(b,a),d=0;d<a;d++)p=v+d,p in b&&u(c,d,b[p]);if(c.length=a,r<a){for(d=v;d<y-a;d++)p=d+a,m=d+r,p in b?b[m]=b[p]:delete b[m];for(d=y;d>y-a+r;d--)delete b[d-1]}else if(r>a)for(d=y-a;d>v;d--)p=d+a-1,m=d+r-1,p in b?b[m]=b[p]:delete b[m];for(d=0;d<r;d++)b[d+v]=arguments[d+2];return b.length=y-a+r,c}})},a7f3:function(e,t,r){"use strict";r("914d")},ef8b:function(e,t,r){"use strict";r("f943")},f8b7:function(e,t,r){"use strict";r.d(t,"g",(function(){return n})),r.d(t,"f",(function(){return o})),r.d(t,"b",(function(){return i})),r.d(t,"e",(function(){return l})),r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return u})),r.d(t,"d",(function(){return c}));var a=r("b775");function n(){return Object(a["a"])({url:"/api/order_num",method:"get"})}function o(e){return Object(a["a"])({url:"/api/orders",method:"get",params:e})}function i(e){return Object(a["a"])({url:"/api/orders",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/api/order_items/".concat(e,"/finish"),method:"post"})}function s(e,t){return Object(a["a"])({url:"/api/order_items/".concat(e,"/bind"),method:"post",data:t})}function u(e){return Object(a["a"])({url:"/api/order_items/".concat(e,"/download"),method:"get",responseType:"blob"})}function c(e){return Object(a["a"])({url:"/api/orders/download",method:"get",params:e,responseType:"blob"})}},f943:function(e,t,r){}}]);