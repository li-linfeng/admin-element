(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fda92604"],{"333d":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},r=[];a("a9e3");Math.easeInOutQuad=function(t,e,a,n){return t/=n/2,t<1?a/2*t*t+e:(t--,-a/2*(t*(t-2)-1)+e)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}();function o(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}function s(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function c(t,e,a){var n=s(),r=t-n,c=20,u=0;e="undefined"===typeof e?500:e;var l=function t(){u+=c;var s=Math.easeInOutQuad(u,n,r,e);o(s),u<e?i(t):a&&"function"===typeof a&&a()};l()}var u={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},per_page:{type:Number,default:10},pageSizes:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.per_page},set:function(t){this.$emit("update:per_page",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,per_page:t}),this.autoScroll&&c(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,per_page:this.pageSize}),this.autoScroll&&c(0,800)}}},l=u,d=(a("ef8b"),a("2877")),p=Object(d["a"])(l,n,r,!1,null,"29d0d71e",null);e["a"]=p.exports},"89aa":function(t,e,a){},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("每日要闻")])]),a("ul",{staticClass:"news-content"},t._l(t.messages,(function(e){return a("li",{key:e.id,staticClass:"text item"},[t._v(t._s(e.title)+" "),a("button",{staticStyle:{float:"right"},attrs:{size:"mini",type:"primary"}},[t._v(t._s(e.created_at))]),a("span",{staticStyle:{float:"right"}},[t._v(t._s(e.created_at))])])})),0),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.listQuery.page,per_page:t.listQuery.per_page},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:per_page":function(e){return t.$set(t.listQuery,"per_page",e)},pagination:t.getList}})],1),a("Weather"),a("el-card",{staticClass:"box-card",staticStyle:{width:"800pxl",height:"800px"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("每日待办")]),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",round:"",size:"mini"},on:{click:t.readAllTodo}},[t._v("全部设为已读")])],1),a("el-tabs",{staticStyle:{height:"650px"},attrs:{type:"border-card"},on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.todo_map,(function(e,n){return a("el-tab-pane",{key:n,attrs:{label:e,name:n}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"el-icon-date"}),t._v(" "+t._s(e))]),a("ul",{staticClass:"news-content"},t._l(t.todo_list,(function(e){return a("li",{key:e.id,staticClass:"text item",staticStyle:{"word-break":"break-all","word-wrap":"break-word","line-height":"24px","margin-bottom":"15px"}},[t._v(" "+t._s(e.content)+" "),a("a",{staticStyle:{color:"blue",float:"right"},on:{click:function(a){return t.jumpToPage(e)}}},[t._v(" 点击查看 ")])])})),0)])})),1),a("pagination",{directives:[{name:"show",rawName:"v-show",value:t.todo_total>0,expression:"todo_total>0"}],staticStyle:{"margin-bottom":"15px"},attrs:{total:t.todo_total,page:t.todoQuery.page,per_page:t.todoQuery.per_page},on:{"update:page":function(e){return t.$set(t.todoQuery,"page",e)},"update:per_page":function(e){return t.$set(t.todoQuery,"per_page",e)},pagination:t.toDo}})],1)],1)},r=[],i=a("5530"),o=a("aa2a"),s=a("333d"),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[t._v("每日天气")])]),a("div",{staticClass:"showBlock"},[a("p",{staticClass:"address"},[t._v(t._s(t.address))]),a("p",{staticClass:"temperature"},[t._v(t._s(t.temperature)+"℃"),a("span",{staticClass:"weather"},[t._v(t._s(t.weather)+" "),a("span",[a("i",{staticClass:"mainWeather",class:t.getIcon})])])]),a("div",{staticClass:"other"},[a("p",{staticClass:"wind"},[a("i",{staticClass:"el-icon-wind-power"}),t._v(" 风向:"),a("span",[t._v(t._s(t.winddirection))]),t._v(" "),a("span",{staticStyle:{"margin-left":"10px"}},[t._v("风力:"+t._s(t.windpower)+"级")])]),a("p",{staticClass:"humidity"},[a("i",{staticClass:"el-icon-odometer"}),t._v(" 湿度:"+t._s(t.humidity))]),a("p",{attrs:{id:"reporttime"}},[t._v("消息发布时间:"+t._s(t.reporttime))])])])])},u=[],l=a("b775");function d(){return Object(l["a"])({url:"/api/weather",method:"get"})}var p={name:"Weather",data:function(){return{address:"",weather:"",temperature:"",winddirection:"",windpower:"",humidity:"",reporttime:"",icon:!0}},created:function(){this.localWeather()},computed:{getIcon:function(){return this.icon=!1,"晴"==this.weather?"el-icon-sunny":"多云"==this.weather?"el-icon-cloudy-and-sunny":"阴"==this.weather?"el-icon-partly-cloudy":this.weather.indexOf("雨")?"el-icon-heavy-rain":this.weather.indexOf("雪")?"el-icon-light-rain":void(this.icon=!0)}},methods:{localWeather:function(){var t=this;d().then((function(e){console.log(e);var a=e.data.lives[0];t.address=a.city,t.temperature=a.temperature,t.weather=a.weather,t.winddirection=a.winddirection,t.windpower=a.windpower,t.humidity=a.humidity,t.reporttime=a.reporttime}))}}},f=p,h=(a("b477"),a("2877")),g=Object(h["a"])(f,c,u,!1,null,"5e99af3a",null),m=g.exports,_=a("2f62"),b={name:"Dashboard",components:{Pagination:s["a"],Weather:m},data:function(){return{messages:[],total:0,todo_total:0,todo_list:[],activeName:"pre_sale",todo_map:{sale_request:"销售需求",pre_sale:"售前处理",order:"订单"},todo_link:{sale_request:"/sale_request/saleRequest",pre_sale:"/pre_sale/preSale",order:"/order/order"},listQuery:{page:1,per_page:10,filter_status:"finish"},todoQuery:{page:1,per_page:10,type:"pre_sale"}}},computed:Object(i["a"])({},Object(_["b"])(["name"])),created:function(){this.getUserInfo(),this.getList(),this.toDo()},methods:{getUserInfo:function(){},readAllTodo:function(){var t=this;Object(o["e"])().then((function(e){t.activeName="pre_sale",t.todoQuery.type=t.activeName,t.todoQuery.page=1,t.toDo()}))},jumpToPage:function(t){var e=this;Object(o["f"])(t.id).then((function(a){e.toDo().then((function(a){var n=e.$router.resolve({path:e.todo_link[t.type],query:{source_id:t.source_id}});window.open(n.href,"_blank")}))}))},getList:function(){var t=this;return Object(o["c"])(this.listQuery).then((function(e){t.messages=e.data,t.total=e.total}))},toDo:function(){var t=this;return Object(o["d"])(this.todoQuery).then((function(e){t.todo_list=e.data,t.todo_total=e.total}))},handleClick:function(t,e){this.todoQuery.type=this.activeName,this.todoQuery.page=1,this.toDo()}}},y=b,v=(a("ce7b"),Object(h["a"])(y,n,r,!1,null,"eb753788",null));e["default"]=v.exports},a9e3:function(t,e,a){"use strict";var n=a("83ab"),r=a("da84"),i=a("94ca"),o=a("6eeb"),s=a("5135"),c=a("c6b6"),u=a("7156"),l=a("c04e"),d=a("d039"),p=a("7c73"),f=a("241c").f,h=a("06cf").f,g=a("9bf2").f,m=a("58a8").trim,_="Number",b=r[_],y=b.prototype,v=c(p(y))==_,w=function(t){var e,a,n,r,i,o,s,c,u=l(t,!1);if("string"==typeof u&&u.length>2)if(u=m(u),e=u.charCodeAt(0),43===e||45===e){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(i=u.slice(2),o=i.length,s=0;s<o;s++)if(c=i.charCodeAt(s),c<48||c>r)return NaN;return parseInt(i,n)}return+u};if(i(_,!b(" 0o1")||!b("0b1")||b("+0x1"))){for(var C,N=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof N&&(v?d((function(){y.valueOf.call(a)})):c(a)!=_)?u(new b(w(e)),a,N):w(e)},S=n?f(b):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;S.length>k;k++)s(b,C=S[k])&&!s(N,C)&&g(N,C,h(b,C));N.prototype=y,y.constructor=N,o(r,_,N)}},aa2a:function(t,e,a){"use strict";a.d(e,"c",(function(){return r})),a.d(e,"a",(function(){return i})),a.d(e,"g",(function(){return o})),a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"e",(function(){return l}));var n=a("b775");function r(t){return Object(n["a"])({url:"/api/news",method:"get",params:t})}function i(t){return Object(n["a"])({url:"/api/news",method:"post",data:t})}function o(t,e){return Object(n["a"])({url:"/api/news/".concat(t),method:"put",data:e})}function s(t){return Object(n["a"])({url:"/api/news/".concat(t),method:"delete"})}function c(t){return Object(n["a"])({url:"/api/todo",method:"get",params:t})}function u(t){return Object(n["a"])({url:"/api/todo/".concat(t,"/read"),method:"put"})}function l(){return Object(n["a"])({url:"/api/todo/readAll",method:"post"})}},b477:function(t,e,a){"use strict";a("ff15")},ce7b:function(t,e,a){"use strict";a("89aa")},ef8b:function(t,e,a){"use strict";a("f943")},f943:function(t,e,a){},ff15:function(t,e,a){}}]);